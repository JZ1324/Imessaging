<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>iMessages Stats ‚Äî Private iMessage analytics for macOS</title>
  <meta name="description" content="iMessages Stats turns your iMessage history into clean, private analytics. See reply speed, mood trends, and top chats. Built for macOS." />
  <link rel="stylesheet" href="styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Fraunces:wght@500;600;700&family=Space+Grotesk:wght@400;500;600&display=swap" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.8.0/sql-wasm.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="bg-noise" aria-hidden="true"></div>
  <div class="top-gradient" aria-hidden="true"></div>
  <div class="particles" aria-hidden="true">
    <span class="particle"></span>
    <span class="particle"></span>
    <span class="particle"></span>
    <span class="particle"></span>
    <span class="particle"></span>
    <span class="particle"></span>
  </div>
  <header class="nav">
    <div class="logo">iMessages Stats</div>
    <nav class="nav-links">
      <a href="#features">Features</a>
      <a href="#privacy">Privacy</a>
      <a href="#pricing">Pricing</a>
      <a href="#download" class="nav-cta">Download</a>
    </nav>
  </header>

  <main>
    <div id="analyzer" class="analyzer-wrapper" style="display: none;">
      <div class="analyzer-container">
        <button id="backToHome" class="back-btn">‚Üê Back to Home</button>
        <div class="analyzer-header">
          <h2>iMessage Analyzer</h2>
          <p class="analyzer-subtitle">Upload your chat.db file to analyze your messages privately in your browser</p>
        </div>
        
        <div id="uploadSection" class="upload-section">
          <div class="upload-box">
            <input type="file" id="dbFile" accept=".db,.sqlite,.sqlite3" />
            <label for="dbFile" class="upload-label">
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="17 8 12 3 7 8"></polyline>
                <line x1="12" y1="3" x2="12" y2="15"></line>
              </svg>
              <span>Click to upload chat.db</span>
              <span class="upload-hint">Found at ~/Library/Messages/chat.db</span>
            </label>
          </div>
          <div class="privacy-note">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
              <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
            </svg>
            Your data never leaves your browser. Everything is processed locally.
          </div>
        </div>

        <div id="loadingSection" class="loading-section" style="display: none;">
          <div class="spinner"></div>
          <p id="loadingText">Processing your messages...</p>
        </div>

        <div id="statsSection" class="stats-section" style="display: none;">
          <div class="stats-nav">
            <button class="stat-tab active" data-tab="overview">Overview</button>
            <button class="stat-tab" data-tab="chats">Top Chats</button>
            <button class="stat-tab" data-tab="timing">Timing</button>
            <button class="stat-tab" data-tab="content">Content</button>
          </div>

          <div id="overviewTab" class="tab-content active">
            <div class="stats-grid">
              <div class="stat-card">
                <h3>Total Messages</h3>
                <p class="stat-number" id="totalMessages">0</p>
              </div>
              <div class="stat-card">
                <h3>Messages Sent</h3>
                <p class="stat-number" id="sentMessages">0</p>
              </div>
              <div class="stat-card">
                <h3>Messages Received</h3>
                <p class="stat-number" id="receivedMessages">0</p>
              </div>
              <div class="stat-card">
                <h3>Total Chats</h3>
                <p class="stat-number" id="totalChats">0</p>
              </div>
            </div>
            
            <div class="chart-card">
              <h3>Message Activity Over Time</h3>
              <canvas id="activityChart"></canvas>
            </div>

            <div class="chart-card">
              <h3>Messages by Day of Week</h3>
              <canvas id="weekdayChart"></canvas>
            </div>
          </div>

          <div id="chatsTab" class="tab-content">
            <div class="chart-card">
              <h3>Top 10 Contacts by Message Count</h3>
              <div id="topContactsList" class="contacts-list"></div>
            </div>
          </div>

          <div id="timingTab" class="tab-content">
            <div class="chart-card">
              <h3>Messages by Hour of Day</h3>
              <canvas id="hourChart"></canvas>
            </div>
          </div>

          <div id="contentTab" class="tab-content">
            <div class="stats-grid">
              <div class="stat-card">
                <h3>Avg Message Length</h3>
                <p class="stat-number" id="avgLength">0</p>
                <p class="stat-label">characters</p>
              </div>
              <div class="stat-card">
                <h3>Total Attachments</h3>
                <p class="stat-number" id="totalAttachments">0</p>
              </div>
            </div>
            
            <div class="chart-card">
              <h3>Top Emoji Usage</h3>
              <div id="emojiList" class="emoji-list"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <section class="hero" id="top">
      <div class="hero-copy">
        <p class="eyebrow">macOS app</p>
        <h1>Turn iMessages into clarity.</h1>
        <p class="lede">iMessages Stats transforms your chat history into a clean, private dashboard: reply speed, mood signals, top chats, and the first conversation that started it all.</p>
        <div class="hero-actions">
          <button class="primary" id="tryAnalyzer">Try Web Analyzer</button>
          <a class="secondary" href="#features">See what's inside</a>
        </div>
        <div class="hero-meta">
          <div>
            <span class="meta-label">Private by default</span>
            <span class="meta-value">Local processing</span>
          </div>
          <div>
            <span class="meta-label">Sync optional</span>
            <span class="meta-value">Supabase-ready</span>
          </div>
          <div>
            <span class="meta-label">Auto updates</span>
            <span class="meta-value">Sparkle</span>
          </div>
        </div>
      </div>
      <div class="hero-card">
        <div class="screen">
          <div class="screen-top">
            <div class="window-controls">
              <span class="window-dot close"></span>
              <span class="window-dot minimize"></span>
              <span class="window-dot zoom"></span>
            </div>
            <div class="screen-title">iMessages Stats</div>
            <div class="screen-status">Synced</div>
          </div>
          <div class="screen-tabs">
            <button class="pill active" data-panel="overview" type="button">Overview</button>
            <button class="pill" data-panel="chats" type="button">Chats</button>
            <button class="pill" data-panel="filters" type="button">Filters</button>
          </div>
          <div class="screen-body">
            <div class="screen-panel active" data-panel="overview">
              <div class="overview-grid">
                <div class="stat">
                  <span class="stat-label">Reply speed</span>
                  <span class="stat-value">1.9 hrs</span>
                  <span class="stat-sub">Last 30 days</span>
                </div>
                <div class="mini-kpis">
                  <div class="mini-kpi">
                    <span class="mini-kpi-label">Sent / Received</span>
                    <span class="mini-kpi-value">52% / 48%</span>
                  </div>
                  <div class="mini-kpi">
                    <span class="mini-kpi-label">Longest streak</span>
                    <span class="mini-kpi-value">18 days</span>
                  </div>
                  <div class="mini-kpi">
                    <span class="mini-kpi-label">Energy score</span>
                    <span class="mini-kpi-value">86</span>
                  </div>
                  <div class="mini-kpi">
                    <span class="mini-kpi-label">Left on read</span>
                    <span class="mini-kpi-value">3</span>
                  </div>
                </div>
              </div>
              <div class="chart">
                <div class="bar" style="height: 62%"></div>
                <div class="bar" style="height: 48%"></div>
                <div class="bar" style="height: 82%"></div>
                <div class="bar" style="height: 36%"></div>
              </div>
              <div class="tile-grid">
                <div class="tile">
                  <span class="tile-title">Top chat</span>
                  <span class="tile-value">Alex R.</span>
                </div>
                <div class="tile">
                  <span class="tile-title">Mood</span>
                  <span class="tile-value">Friendly</span>
                </div>
                <div class="tile">
                  <span class="tile-title">First convo</span>
                  <span class="tile-value">Aug 2019</span>
                </div>
              </div>
            </div>
            <div class="screen-panel" data-panel="chats">
              <div class="panel-grid">
                <div class="panel-col">
                  <div class="mini-list">
                    <div class="mini-item">
                      <span class="mini-title">Alex R.</span>
                      <span class="mini-value">1,248 msgs</span>
                    </div>
                    <div class="mini-item">
                      <span class="mini-title">Fam Group</span>
                      <span class="mini-value">982 msgs</span>
                    </div>
                    <div class="mini-item">
                      <span class="mini-title">Maya</span>
                      <span class="mini-value">741 msgs</span>
                    </div>
                    <div class="mini-item">
                      <span class="mini-title">Work Crew</span>
                      <span class="mini-value">624 msgs</span>
                    </div>
                  </div>
                  <div class="mini-note">Top chats, response pace, and last active snapshot.</div>
                </div>
                <div class="panel-col">
                  <div class="mini-stats">
                    <div class="mini-stat">
                      <span class="mini-stat-label">Avg reply</span>
                      <span class="mini-stat-value">42m</span>
                    </div>
                    <div class="mini-stat">
                      <span class="mini-stat-label">Longest streak</span>
                      <span class="mini-stat-value">18d</span>
                    </div>
                    <div class="mini-stat">
                      <span class="mini-stat-label">Last active</span>
                      <span class="mini-stat-value">2h ago</span>
                    </div>
                    <div class="mini-stat">
                      <span class="mini-stat-label">Left on read</span>
                      <span class="mini-stat-value">3</span>
                    </div>
                  </div>
                  <div class="mini-tags">
                    <span class="mini-tag">Sort: Most messages</span>
                    <span class="mini-tag">Pinned: 4</span>
                    <span class="mini-tag">Groups: 6</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="screen-panel" data-panel="filters">
              <div class="panel-grid">
                <div class="panel-col">
                  <div class="filter-group">
                    <span class="filter-label">Date range</span>
                    <div class="chip-row">
                      <span class="chip active">Last 30 days</span>
                      <span class="chip">Last 90 days</span>
                      <span class="chip">All time</span>
                    </div>
                  </div>
                  <div class="filter-group">
                    <span class="filter-label">Chat type</span>
                    <div class="chip-row">
                      <span class="chip active">Direct</span>
                      <span class="chip">Groups</span>
                    </div>
                  </div>
                  <div class="filter-group">
                    <span class="filter-label">Response threshold</span>
                    <div class="chip-row">
                      <span class="chip active">7d cap</span>
                      <span class="chip">24h</span>
                      <span class="chip">6h</span>
                    </div>
                  </div>
                </div>
                <div class="panel-col">
                  <div class="filter-group">
                    <span class="filter-label">Sort by</span>
                    <div class="chip-row">
                      <span class="chip active">Most messages</span>
                      <span class="chip">Most recent</span>
                      <span class="chip">Fastest reply</span>
                    </div>
                  </div>
                  <div class="mini-stats">
                    <div class="mini-stat">
                      <span class="mini-stat-label">Top chats</span>
                      <span class="mini-stat-value">100</span>
                    </div>
                    <div class="mini-stat">
                      <span class="mini-stat-label">Since</span>
                      <span class="mini-stat-value">Jan 7</span>
                    </div>
                    <div class="mini-stat">
                      <span class="mini-stat-label">Until</span>
                      <span class="mini-stat-value">Today</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="glow" aria-hidden="true"></div>
      </div>
    </section>

    <section class="feature-grid" id="features">
      <div class="section-title">
        <p class="eyebrow">Features</p>
        <h2>See your messages like a pro.</h2>
        <p class="section-description">Comprehensive analytics that reveal patterns, insights, and the story behind every conversation.</p>
      </div>
      <div class="grid">
        <article class="card">
          <div class="card-icon">üìä</div>
          <h3>Conversation radar</h3>
          <p>Track sent vs received, left-on-read counts, and reply speed buckets with sane cutoffs that avoid outliers.</p>
        </article>
        <article class="card">
          <div class="card-icon">üí≠</div>
          <h3>Mood snapshots</h3>
          <p>Friendly, romantic, professional‚Äîsee how a conversation feels over time and drill into the timeline.</p>
        </article>
        <article class="card">
          <div class="card-icon">üë•</div>
          <h3>Group insights</h3>
          <p>Message share, rank, and per-participant charts for group chats‚Äîno more guessing who drives the thread.</p>
        </article>
        <article class="card">
          <div class="card-icon">‚ú®</div>
          <h3>Top words & emojis</h3>
          <p>View top words, phrases, and emoji usage for you, them, or combined for any DM or group.</p>
        </article>
        <article class="card">
          <div class="card-icon">üí¨</div>
          <h3>First conversation</h3>
          <p>See how each chat started‚Äîcaptured from the first back-and-forth until a 5+ min pause.</p>
        </article>
        <article class="card">
          <div class="card-icon">üîÑ</div>
          <h3>Automatic refresh</h3>
          <p>Stats refresh on app open and on a timer‚Äîno manual "generate report" clicks.</p>
        </article>
        <article class="card">
          <div class="card-icon">‚ö°</div>
          <h3>Response analytics</h3>
          <p>See average, median, and 90th percentile response times. Understand who's faster to reply and when.</p>
        </article>
        <article class="card">
          <div class="card-icon">üî•</div>
          <h3>Conversation streaks</h3>
          <p>Track current streak, longest streak, and longest silence periods. Never lose momentum.</p>
        </article>
        <article class="card">
          <div class="card-icon">üéØ</div>
          <h3>Conversation peaks</h3>
          <p>Identify your most active days, longest back-and-forth exchanges, and peak conversation moments.</p>
        </article>
        <article class="card">
          <div class="card-icon">‚è∞</div>
          <h3>Time patterns</h3>
          <p>See when you chat most‚Äîhour by hour, day by day. Discover weekday vs weekend patterns.</p>
        </article>
        <article class="card">
          <div class="card-icon">üé®</div>
          <h3>Reaction tracking</h3>
          <p>Track tapback reactions‚Äîloves, likes, laughs, and more. See who reacts the most.</p>
        </article>
        <article class="card">
          <div class="card-icon">üìé</div>
          <h3>Attachment stats</h3>
          <p>Count photos, videos, links, and other attachments. See the visual side of your conversations.</p>
        </article>
        <article class="card">
          <div class="card-icon">üåÖ</div>
          <h3>Greeting analysis</h3>
          <p>Morning and night greetings tracked. See who initiates the "good morning" and "good night" texts.</p>
        </article>
        <article class="card">
          <div class="card-icon">üîÅ</div>
          <h3>Re-engagement tracking</h3>
          <p>Monitor who re-starts conversations after silence. Average gap times and initiation patterns revealed.</p>
        </article>
        <article class="card">
          <div class="card-icon">üìà</div>
          <h3>Balance insights</h3>
          <p>30-day and 90-day message balance. See if the conversation is one-sided or mutual.</p>
        </article>
      </div>
    </section>

    <section class="privacy" id="privacy">
      <div class="privacy-card">
        <div>
          <p class="eyebrow">Privacy</p>
          <h2>Your data stays yours.</h2>
          <p>All analytics run locally. Cloud sync is optional and only enabled after you sign in. You control when it syncs.</p>
        </div>
        <ul class="privacy-list">
          <li>Local database access only when you grant Full Disk Access.</li>
          <li>Contacts access is optional and used only to label chats.</li>
          <li>Sync uses your own Supabase project.</li>
        </ul>
      </div>
    </section>

    <section class="cta" id="download">
      <div class="cta-card">
        <div>
          <p class="eyebrow">Download</p>
          <h2>Ready to see your iMessages differently?</h2>
          <p>macOS 13+ required. Automatic updates via Sparkle.</p>
        </div>
        <div class="cta-actions">
          <a class="primary" href="#">Download the app</a>
          <a class="secondary" href="#pricing">See pricing</a>
        </div>
      </div>
    </section>

    <section class="pricing" id="pricing">
      <div class="section-title">
        <p class="eyebrow">Pricing</p>
        <h2>Simple, transparent.</h2>
      </div>
      <div class="pricing-card">
        <div>
          <h3>Early Access</h3>
          <p class="price">$0</p>
          <p>Free while we ship the first big release.</p>
        </div>
        <a class="primary" href="#download">Download now</a>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div>
      <div class="logo">iMessages Stats</div>
      <p>Designed for macOS. Built for clarity.</p>
    </div>
    <div class="footer-links">
      <a href="#features">Features</a>
      <a href="#privacy">Privacy</a>
      <a href="#download">Download</a>
    </div>
  </footer>

  <script src="script.js"></script>
</body>
</html>
